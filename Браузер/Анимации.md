`requestAnimationFrame` (сокращённо **rAF**) — это API браузера для **плавных, синхронизированных с отрисовкой экрана анимаций**.
Это встроенный метод браузера, который вызывает переданную в него функцию в тот момент, когда браузер готовится совершить перерисовку.

```js
requestAnimationFrame(callback);
```

1. Регистрирует `callback`
2. Браузер вызывает его **перед следующим repaint**
3. Обычно ~60 раз в секунду (зависит от монитора)

Получаем **один вызов = один кадр**

#### Монитор

Частота вызова равна частоте обновления экрана, это обычно **60 FPS**, но может быть 90 / 120 / 144

**FPS (Frames Per Second)** — это **количество кадров в секунду**, то есть **сколько раз интерфейс перерисовывается за 1 секунду**. 

Чем выше FPS, тем **плавнее выглядит анимация**.

Это **физическое свойство монитора**, браузер **не может его изменить**.

Монитор:
1. просто «считывает» готовые кадры из видеобуфера
2. делает это строго по своему таймеру

Управление кадрами в системе:

**Браузер**
- **не рисует кадры сам**
- он **подготавливает кадры вовремя**
- отдаёт их GPU

**GPU + ОС**
- знают частоту монитора
- синхронизируют вывод кадров (VSync / compositor ОС)

#### Время на кадр

Формула расчёта времени на один кадр: frameTime (ms) = 1000 / FPS

##### Как это использовать на практике

Пример: 60 FPS
Бюджет кадра: **16.7 ms**

В это время должно уместиться:
1. JS
2. Style
3. Layout
4. Paint
5. Composite

Если любой этап «съел» больше — **кадр пропущен**.

Итого:
✔ Монитор обновляется с фиксированной частотой  
✔ Браузер подстраивает цикл рендера под эту частоту  
✔ `requestAnimationFrame` — точка синхронизации  
✔ Если кадр не готов вовремя — он пропускается  
✔ Подвисания = пропущенные кадры