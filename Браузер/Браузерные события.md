_Событие_ – это сигнал от браузера о том, что что-то произошло. Все DOM-узлы подают такие сигналы (хотя события бывают и не только в DOM).

Есть три способа назначения обработчиков событий:

1. Атрибут HTML: `onclick="..."`.
2. DOM-свойство: `elem.onclick = function`.
3. Специальные методы: `elem.addEventListener(event, handler[, phase])` для добавления, `removeEventListener` для удаления.

Стандарт [DOM Events](https://www.w3.org/TR/DOM-Level-3-Events/) описывает 3 фазы прохода события:

1. Фаза погружения (capturing phase) – событие сначала идёт сверху вниз.
2. Фаза цели (target phase) – событие достигло целевого(исходного) элемента.
3. Фаза всплытия (bubbling stage) – событие начинает всплывать.

**Фаза погружения**

Чтобы поймать событие на стадии погружения, нужно использовать третий аргумент `capture`:

```javascript
elem.addEventListener(..., { capture:true }) // или просто "true"
elem.addEventListener(..., true)
```

Существуют два варианта значений опции `capture`:

- Если аргумент `false` (по умолчанию), то событие будет поймано при всплытии.
- Если аргумент `true`, то событие будет перехвачено при погружении.

**Фаза цели**

2-ую фазу нельзя обработать отдельно, при её достижении вызываются все обработчики: и на всплытие, и на погружение.

**Фаза всплытия**

Когда на элементе происходит событие, обработчики сначала срабатывают на нём, потом на его родителе, затем выше и так далее, вверх по цепочке предков.

```html
<form onclick="alert('form')">
	<div onclick="alert('div')">
		<p onclick="alert('p')"></p>
	</div>
</form>
```

Клик по внутреннему `<p>` вызовет обработчик `onclick`:
1. Сначала на самом `<p>`
2. Потом на внешнем `<div>`
3. Затем на внешнем `<form>`
4. И так далее вверх по цепочке до самого `document`

**Прекращение всплытия**

Любой промежуточный обработчик может решить, что событие полностью обработано, и остановить всплытие

`event.stopPropagation()` - прекращение всплытия события
`event.stopImmediatePropagation()` - полностью останавливает обработку. Он не только предотвращает всплытие, но и останавливает обработку событий на текущем элементе.
Если несколько обработчиков прикреплены к одному и тому же элементу с одинаковым типом события, тогда они будут вызваны в порядке своего добавления. Если один из этих обработчиков вызовет event.stopImmediatePropagation() тогда события оставшихся обработчиков вызваны не будут.

[подробнее](https://learn.javascript.ru/bubbling-and-capturing)


