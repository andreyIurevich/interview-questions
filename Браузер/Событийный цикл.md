Поток выполнения js-кода в браузере, равно как и в Node.js, основан на событийном цикле.

Событийный цикл - это бесконечный цикл, в котором движок JavaScript ожидает задачи, исполняет их и снова ожидает появления новых.

Задачи поступают - движок выполняет их, затем ожидает новые задачи. Если задача поступает, в то время когда, движок занят выполнением другой задачи, то она добавляется в очередь макрозадач (macrotask queue). Задачи из очереди исполняются по правилу «первым пришёл – первым ушёл»

Алгоритм работы:
1. Выбрать и исполнить старейшую задачу из очереди макрозадач (например, «script»).
2. Исполнить все микрозадачи:
	- Пока очередь микрозадач не пуста: Выбрать из очереди и исполнить старейшую микрозадачу
3. Отрисовать изменения страницы, если они есть.
4. Если очередь макрозадач пуста – подождать, пока появится макрозадача.
5. Перейти к шагу 1.

Алгоритм решения задач на событийный цикл:
1. Выполняется основной поток кода (+ выполняются функции в теле создания промисов)
2. Выполняются микрозадачи (обработчики в then/catch/finally)
	2.1  Если есть несколько промисов и у них несколько then/catch, то сначала группируются и выполняются все первые then/catch, затем группируются и выполняются все вторые then/catch и т.д.
	2.2  Если во время выполнения одной из микрозадач была найдена макрозадача, то она будет помещена в конец очереди макрозадач.
3. Выполняются макрозадачи (setTimeout, mousemove и т.д.)